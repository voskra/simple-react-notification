{"version":3,"sources":["Notification/Notification.jsx","Notification/index.js","Notification/Notifications.jsx","App.jsx","index.js"],"names":["eventEmitter","events","EventEmitter","list","addChangeListener","callback","addListener","removeChangeListener","removeListener","remove","notification","filter","n","id","change","emit","allTypes","type","title","message","timeOut","onClick","props","i","undefined","defaultNotification","replace","c","r","Math","random","toString","push","objectSpread_default","create","Notification","_Component","_getPrototypeOf2","_this","classCallCheck_default","this","_len5","arguments","length","args","Array","_key5","possibleConstructorReturn_default","getPrototypeOf_default","call","apply","concat","defineProperty_default","assertThisInitialized_default","classEnter","timer","setTimeout","requestHide","classTimer","setState","clearTimeout","onRequestHide","inherits_default","createClass_default","key","value","_this$props","className","state","react_default","a","createElement","handleClick","role","Component","Notifications","notifications","addNotifications","_this2","map","Date","getTime","Notification_Notification","extends_default","App","_len4","_key4","infoMessage","alert","_len","_key","successMessage","_len2","_key2","warningMessage","_len3","_key3","errorMessage","app_Notification","ReactDOM","render","app_App","document","getElementById"],"mappings":"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","file":"static/js/main.45fc4f9d.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport events from 'events';\r\n\r\nconst eventEmitter = new events.EventEmitter();\r\n\r\nconst createUUID = () => {\r\n    const pattern = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx';\r\n    return pattern.replace(/[xy]/g, (c) => {\r\n        const r = (Math.random() * 16) | 0;\r\n        const v = c === 'x' ? r : ((r & 0x3) | 0x8);\r\n        return v.toString(16);\r\n    });\r\n};\r\n\r\nlet list = [];\r\n\r\nexport const addChangeListener = function (callback) {\r\n    eventEmitter.addListener('change', callback);\r\n};\r\n\r\nexport const removeChangeListener = function (callback) {\r\n    eventEmitter.removeListener('change', callback);\r\n};\r\n\r\nconst create = function (notification) {\r\n    const defaultNotification = {\r\n        id: createUUID(),\r\n        type: 'info',\r\n        title: null,\r\n        message: null,\r\n        timeOut: 5000\r\n    };\r\n    list.push({...defaultNotification, ...notification});\r\n    change();\r\n};\r\n\r\nexport const remove = function (notification) {\r\n    list = list.filter(n => notification.id !== n.id);\r\n    change();\r\n};\r\n\r\nconst change = function () {\r\n    eventEmitter.emit('change', list);\r\n};\r\n\r\nconst allTypes = function (type, title, message, timeOut, onClick) {\r\n    let props = {type, title, message, timeOut, onClick};\r\n    for (let i in props) {\r\n        if (props[i] === undefined) delete props[i];\r\n    }\r\n    create(props);\r\n};\r\n\r\nexport const success = function (...props) {\r\n    allTypes('success', ...props);\r\n};\r\n\r\nexport const warning = function (...props) {\r\n    allTypes('warning', ...props);\r\n};\r\n\r\nexport const error = function (...props) {\r\n    allTypes('error', ...props);\r\n};\r\n\r\nexport const info = function (...props) {\r\n    allTypes('info', ...props);\r\n};\r\n\r\nexport class Notification extends Component {\r\n\r\n    state = {\r\n        classEnter: ' enter'\r\n    };\r\n\r\n    componentDidMount = () => {\r\n        const { timeOut } = this.props;\r\n        if (!!timeOut)\r\n            this.timer = setTimeout(this.requestHide, timeOut);\r\n        this.classTimer = setTimeout(()=>this.setState({classEnter: ''}), 50);\r\n    };\r\n\r\n    componentWillUnmount = () => {\r\n        if (this.timer)\r\n            clearTimeout(this.timer);\r\n        if (this.classTimer)\r\n            clearTimeout(this.classTimer);\r\n    };\r\n\r\n    handleClick = () => {\r\n        const { onClick } = this.props;\r\n        if (onClick) {\r\n            onClick();\r\n        }\r\n        this.requestHide();\r\n    };\r\n\r\n    requestHide = () => {\r\n        const { onRequestHide } = this.props;\r\n        if (onRequestHide) {\r\n            this.setState({classEnter: ' hide'});\r\n            this.timer = setTimeout(()=>onRequestHide(), 500);\r\n        }\r\n    };\r\n\r\n    render() {\r\n        let {type, title, message} = this.props;\r\n        let className = `notification${this.state.classEnter}`;\r\n        if (!!type)\r\n            className += ` notification-${type}`;\r\n        title = title ? (<h4 className=\"title\">{title}</h4>) : null;\r\n\r\n        return (\r\n            <div className={className} onClick={this.handleClick}>\r\n                <div className=\"notification-message\" role=\"alert\">\r\n                    {title}\r\n                    <div className=\"message\">{message}</div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n","import Notifications from \"./Notifications\";\r\nimport {error as errorMessage, success as successMessage, info as infoMessage, warning as warningMessage} from \"./Notification\";\r\n\r\nexport {errorMessage, successMessage, infoMessage, warningMessage};\r\nexport default Notifications;\r\n","import React, { Component } from 'react';\r\nimport {addChangeListener, Notification, removeChangeListener, remove} from \"./Notification\";\r\n\r\nclass Notifications extends Component {\r\n\r\n    state = {\r\n        notifications: []\r\n    };\r\n\r\n    componentWillMount = () => addChangeListener(this.addNotifications);\r\n\r\n    componentWillUnmount = () => removeChangeListener(this.addNotifications);\r\n\r\n    addNotifications = (notifications) => this.setState({notifications});\r\n\r\n    requestHide = (notification) => remove(notification);\r\n\r\n    render() {\r\n        const {notifications} = this.state;\r\n\r\n        return (\r\n            <div className='notification-container'>\r\n                {notifications.map(notification => {\r\n                    const key = notification.id || new Date().getTime();\r\n                    return <Notification key={key} onRequestHide={()=>this.requestHide(notification)} {...notification}/>;\r\n                })}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Notifications;\r\n","import React, { Component } from 'react';\r\nimport Notifications, {errorMessage, infoMessage, successMessage, warningMessage} from './Notification';\r\nimport \"./Notification/style.css\";\r\n\r\nclass App extends Component {\r\n    render() {\r\n        return (\r\n            <div>\r\n                <button onClick={()=>infoMessage('Title here', <button onClick={()=>alert('Info')}>Go Go Info</button>, null)}>GO INFO</button>\r\n                <button onClick={()=>successMessage('Title here', 'Title Success')}>GO SUCCESS</button>\r\n                <button onClick={()=>warningMessage('Warning message')}>GO WARNING</button>\r\n                <button onClick={()=>errorMessage('Error message', 'Title here')}>GO ERROR</button>\r\n                <Notifications/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(<App/>, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}